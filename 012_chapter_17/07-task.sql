CREATE TABLE IF NOT EXISTS deps (
    id   INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT    NOT NULL
                 DEFAULT ('department') 
);

CREATE TABLE IF NOT EXISTS emps (
    id       INTEGER PRIMARY KEY AUTOINCREMENT,
    name     TEXT    NOT NULL
                     DEFAULT ('joe peach'),
    position TEXT    NOT NULL
                     DEFAULT ('slave'),
    dep_id   INTEGER NOT NULL,
    salary   REAL,
    FOREIGN KEY (
        dep_id
    )
    REFERENCES deps (id) 
);

CREATE TABLE IF NOT EXISTS emp_dets (
    id        INTEGER PRIMARY KEY AUTOINCREMENT,
    emp_id    INTEGER NOT NULL
                      UNIQUE,
    age       INTEGER CHECK (age >= 18),
    address   TEXT    DEFAULT ('not house, not street'),
    join_date DATE    DEFAULT (date('now') ),
    FOREIGN KEY (
        emp_id
    )
    REFERENCES emps (id) 
);

INSERT INTO deps VALUES (
                     NULL,
                     'dzhits_ndbt'
                 ),
                 (
                     NULL,
                     'cheburechnaya'
                 ),
                 (
                     NULL,
                     'BENZOmatic'
                 ),
                 (
                     NULL,
                     'шарага'
                 );

SELECT *
  FROM deps;

INSERT INTO emps (
                     name,
                     position,
                     dep_id,
                     salary
                 )
                 VALUES (
                     'Иван Иванов',
                     'Разработчик',
                     1,
                     80000
                 ),
                 (
                     'Петр Петров',
                     'Маркетолог',
                     2,
                     60000
                 ),
                 (
                     'Сергей Петров',
                     'Менеджер по продажам',
                     3,
                     70000
                 ),
                 (
                     'Алексей Алексеев',
                     'HR-менеджер',
                     4,
                     50000
                 ),
                 (
                     'Мария Иванова',
                     'Бухгалтер',
                     1,
                     75000
                 ),
                 (
                     'Дмитрий Дмитриев',
                     'Разработчик',
                     1,
                     85000
                 ),
                 (
                     '_dzhits',
                     'Ведущий разработчик',
                     1,
                     197000
                 ),
                 (
                     'Виктор Светляков',
                     'Менеджер по продажам',
                     3,
                     72000
                 ),
                 (
                     'Елена Еленова',
                     'HR-менеджер',
                     4,
                     52000
                 ),
                 (
                     'Инна Крылова',
                     'Финансовый аналитик',
                     4,
                     78000
                 ),
                 (
                     'Николай Николаев',
                     'Разработчик',
                     2,
                     83000
                 ),
                 (
                     'Татьяна Николаева',
                     'Маркетолог',
                     2,
                     61000
                 ),
                 (
                     'Андрей Андреев',
                     'Менеджер по продажам',
                     3,
                     71000
                 ),
                 (
                     'Светлана Дмитриева',
                     'HR-менеджер',
                     4,
                     53000
                 ),
                 (
                     'Игорь Андреев',
                     'Бухгалтер',
                     3,
                     76000
                 ),
                 (
                     'Роман Петров',
                     'Разработчик',
                     1,
                     82000
                 ),
                 (
                     'Юлия Романова',
                     'Маркетолог',
                     1,
                     63000
                 ),
                 (
                     'Александр Асафьев',
                     'Менеджер по продажам',
                     3,
                     73000
                 ),
                 (
                     'Валентина Лебедева',
                     'HR-менеджер',
                     4,
                     54000
                 );

DELETE FROM emps
      WHERE id > 20;

SELECT *
  FROM emps;

INSERT INTO emp_dets VALUES (
                         NULL,
                         1,
                         30,
                         'ул. Ленина, д. 1, Москва, 123456',
                         '2020-01-15'
                     ),
                     (
                         NULL,
                         2,
                         25,
                         'ул. Пушкина, д. 2, Санкт-Петербург, 654321',
                         '2021-03-20'
                     ),
                     (
                         NULL,
                         3,
                         35,
                         'ул. Гагарина, д. 3, Новосибирск, 234567',
                         '2019-07-10'
                     ),
                     (
                         NULL,
                         4,
                         28,
                         'ул. Советская, д. 4, Екатеринбург, 345678',
                         '2022-05-12'
                     ),
                     (
                         NULL,
                         5,
                         21,
                         'ул. Мира, д. 5, Казань, 456789',
                         '2018-11-01'
                     ),
                     (
                         NULL,
                         6,
                         32,
                         'ул. Ленина, д. 6, Москва, 123457',
                         '2020-02-18'
                     ),
                     (
                         NULL,
                         7,
                         28,
                         'ул. Крутейшая, д. 7, Санкт-Петербург, 133728',
                         '2026-01-01'
                     ),
                     (
                         NULL,
                         8,
                         36,
                         'ул. Гагарина, д. 8, Новосибирск, 234568',
                         '2019-08-15'
                     ),
                     (
                         NULL,
                         9,
                         29,
                         'ул. Советская, д. 9, Екатеринбург, 345679',
                         '2022-06-20'
                     ),
                     (
                         NULL,
                         10,
                         41,
                         'ул. Мира, д. 10, Казань, 456780',
                         '2018-12-05'
                     ),
                     (
                         NULL,
                         11,
                         31,
                         'ул. Ленина, д. 11, Москва, 123458',
                         '2020-03-10'
                     ),
                     (
                         NULL,
                         12,
                         26,
                         'ул. Пушкина, д. 12, Санкт-Петербург, 654323',
                         '2021-05-30'
                     ),
                     (
                         NULL,
                         13,
                         37,
                         'ул. Гагарина, д. 13, Новосибирск, 234569',
                         '2019-09-20'
                     ),
                     (
                         NULL,
                         14,
                         30,
                         'ул. Советская, д. 14, Екатеринбург, 345670',
                         '2022-07-25'
                     ),
                     (
                         NULL,
                         15,
                         42,
                         'ул. Мира, д. 15, Казань, 456781',
                         '2018-01-15'
                     ),
                     (
                         NULL,
                         16,
                         33,
                         'ул. Ленина, д. 16, Москва, 123459',
                         '2020-04-15'
                     ),
                     (
                         NULL,
                         17,
                         28,
                         'ул. Пушкина, д. 17, Санкт-Петербург, 654324',
                         '2021-06-10'
                     ),
                     (
                         NULL,
                         18,
                         38,
                         'ул. Гагарина, д. 18, Новосибирск, 234570',
                         '2019-10-25'
                     ),
                     (
                         NULL,
                         19,
                         31,
                         'ул. Советская, д. 19, Екатеринбург, 345671',
                         '2022-08-30'
                     );

INSERT INTO emp_dets (
                         emp_id,
                         age
                     )
                     VALUES (
                         20,
                         43
                     );

SELECT *
  FROM emp_dets;
